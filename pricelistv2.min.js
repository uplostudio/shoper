const LANG=$("html").attr("lang"),TRANSLATIONS={pl:{currency:"zł",monthGross:"brutto miesięcznie",monthNetto:"netto miesięcznie",discount:"%s% taniej",priceMode:"Pokaż ceny brutto"},en:{currency:"PLN",monthGross:"gross monthly",monthNetto:"net monthly",discount:"save %s%",priceMode:"Show gross prices"}};function formatPrice(e,t){let n=e-Math.floor(e)>0?e.toFixed(2).replace(".",","):Number(e).toString(),s=n.split(",");return t?n+" "+TRANSLATIONS[LANG].currency:s[1]?s[0]+'<span class="pricelist__span">,'+s[1]+'</span> <span class="size3">'+TRANSLATIONS[LANG].currency+"</span>":s[0]+' <span class="size3">'+TRANSLATIONS[LANG].currency+"</span>"}function setPrice(e,t,n,s,i){e.forEach(e=>{let o=["standard_onetime","premium_onetime","enterprise_onetime"].includes(e),r=t[e][o?n?s?"onetimeGrossYear":"onetimeGrossMonth":s?"onetimeNetYear":"onetimeNetMonth":n?s?"yeargross":"monthgross":s?"yearnet":"monthnet"],a=r;if(i&&1===i.active&&i.price[e]){let l=s?parseFloat(t[e][n?"yeargross":"yearnet"]):parseFloat(i.price[e]["12"][s?"year":"month"][n?"gross":"net"]);l&&(a=l)}$("[data-field='"+e+"']").html(formatPrice(a,o))});let o=n?TRANSLATIONS[LANG].monthGross:TRANSLATIONS[LANG].monthNetto;$("[data-field='label']").text(o)}function populateDiscounts(e){let{promotion:t,price:n}=e;["standard","premium","enterprise"].forEach(e=>{let s="";t&&t.price&&t.price[e]?s=t.price[e].discount:n&&n[e]&&(s=n[e].discount),$("[data-field='"+e+"_discount']").text(TRANSLATIONS[LANG].discount.replace("%s",s))})}$(document).ready(function(){$.ajax({url:"https://backend.webflow.prod.shoper.cloud",data:{action:"get_prices_list"},type:"POST",dataType:"json",success:function(e){let{promotion:t,price:n}=e,s={},i=["standard","standard_onetime","premium","premium_onetime","enterprise","enterprise_onetime"];i.forEach(i=>{if(populateDiscounts(e),"promotion"===i)t&&1===t.active?s[i]={monthnet:parseFloat(t.price.standard["12"].month.net),monthgross:parseFloat(t.price.standard["12"].month.gross)}:s[i]={monthnet:parseFloat(n[i]["1"].net),monthgross:parseFloat(n[i]["1"].gross)};else if(i.includes("_onetime")){let o=i.replace("_onetime","");s[i]={onetimeNetMonth:parseFloat(n[o]["1"].net),onetimeGrossMonth:parseFloat(n[o]["1"].gross),onetimeNetYear:parseFloat(n[o]["12"].year.net),onetimeGrossYear:parseFloat(n[o]["12"].year.gross)}}else s[i]={monthnet:parseFloat(n[i]["12"].month.net),monthgross:parseFloat(n[i]["12"].month.gross),yearnet:parseFloat(n[i]["1"].net),yeargross:parseFloat(n[i]["1"].gross)}});let o=!1,r=!1;setPrice(i,s,o,r,t),$('a[data-toggle="price-mode"]').on("click",function(e){e.preventDefault();let n=$(this);n.toggleClass("is-on").find(".toggle-ball").toggleClass("is-on"),setPrice(i,s,o=!o,r,t)}),$('a[data-toggle="billing-period"]').on("click",function(e){e.preventDefault();let n=$(this);n.toggleClass("is-on").find(".toggle-ball").toggleClass("is-on"),r=!r;let a=$("[data-field]").filter(function(){return -1!==$(this).data("field").indexOf("_onetime")}),l=$("[data-field]").filter(function(){return -1!==$(this).data("field").indexOf("_discount")});r?(a.css("visibility","hidden"),l.parent().css("visibility","hidden")):(a.css("visibility","visible"),l.parent().css("visibility","visible")),setPrice(i,s,o,r,t)}),$("[data-field='loader']").css("display","none")}})});