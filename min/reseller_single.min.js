$(document).ready(function(){function t(e){$('[data-element="reseller-logo"]').attr("src",e.logo||""),$('[data-element="reseller-name"]').text(e.name||""),$('[data-element="reseller-city"]').text(e.city||""),$('[data-element="reseller-description"]').html(e.description||""),document.title=e.name+" - Shoper Partner",$('[data-element="form-header"]').text("Skontaktuj siÄ™ z partnerem "+e.name);var a=$("#reseller_form");a.length&&a.append($("<input>").attr("type","hidden").attr("name","reseller_email").val(e.email),$("<input>").attr("type","hidden").attr("name","reseller").val(e.name));let r=$('[data-element="reseller-categories"]'),t=(r.empty(),(e.categories||[]).forEach(e=>{var t=$("<div>").addClass("category-item").css({display:"flex",alignItems:"center"}),a=$("<span>").html('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.0001 10.7799L3.2201 7.9999L2.27344 8.9399L6.0001 12.6666L14.0001 4.66656L13.0601 3.72656L6.0001 10.7799Z" fill="#03081C"/></svg>').css({marginRight:"8px",flexShrink:0}),e=$("<span>").text(e);t.append(a,e),r.append(t)}),$('[data-element="reseller-erps"]'));t.empty(),(e.erps||[]).forEach(e=>{t.append($("<div>").text(e))});a=$('[data-element="reseller-status"]');if(a.empty(),e.partner_status&&a.append($("<div>").text(e.partner_status)),$('[data-element="reseller-address-line-1"]').text(e.address_line_1||""),$('[data-element="reseller-address-line-2"]').text(e.address_line_2||""),$('[data-element="reseller-phone"]').text(e.phone||""),$('[data-element="reseller-email"]').text(e.email||""),e.screens&&0<e.screens.length){a=e.screens;let r=$('[data-element="reseller-examples-wrapper"]');r.empty(),a.forEach(e=>{var t=$("<div>").addClass("partner_image-item"),a=$("<img>").attr("src",e.thumbnail).attr("alt","Partner example").css("cursor","pointer");a.on("click",function(){window.open(e.full,"_blank")}),t.append(a),r.append(t)})}{a=e.partner_status,e=e.partner_badges||[];var n=$('[data-element="badges-section"]');let t=$('[data-element="reseller-badges-wrapper"]');function l(e,t){return`https://dcsaascdn.net/shoperpl/partner/${e}/${t.toLowerCase().replace(/\s+/g,"_")}.png`}t.empty(),a||e&&0!==e.length?(a&&(a=$("<img>").addClass("reseller_box-badge").attr("alt",a).attr("src",l("status",a)).attr("title",a),t.append(a)),e.forEach(e=>{e=$("<img>").addClass("reseller_box-badge").attr("src",l("badge",e)).attr("title",e).attr("alt",e);t.append(e)})):n.remove()}}var e=new URLSearchParams(window.location.search).get("partner");e?$.ajax({url:"https://backend.webflow.prod.shoper.cloud/",method:"POST",data:{action:"get_partner",partner:e},contentType:"application/x-www-form-urlencoded",dataType:"json",success:function(e){e&&1===e.status&&e.partner?t(e.partner):($('[data-element="404-wrapper"]').show(),$('[data-element="content-section"]').remove(),console.error("Invalid response or partner data not found"))},error:function(e,t,a){$('[data-element="404-wrapper"]').show(),$('[data-element="content-section"]').remove(),console.error("Error fetching reseller data:",a)},complete:function(){$('[data-element="partner-overview"]').removeClass("is-loading")}}):console.error("Reseller ID not found in URL")});