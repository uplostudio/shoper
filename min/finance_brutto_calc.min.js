window.addEventListener("load",()=>{var e=document.querySelector("#wf-form-brutto-form"),t=document.getElementById("brutto_slider");let o=document.querySelector("[app='total_cost']"),c=document.querySelector("[app='repayment_amount']"),l=document.querySelector("[app='monthly_cost']"),u=document.querySelector("[app='annual_percentage_rate_of_charge']");var n=document.querySelectorAll("input[name='installment_amount']");let a=document.querySelector("input[name='manual-input']"),i=5e3,s=(n[4].checked=!0,e.addEventListener("submit",e=>{e.preventDefault(),e.stopPropagation()}),noUiSlider.create(t,{start:[5e3],connect:!0,step:500,format:{to:e=>0|e,from:e=>0|e},range:{min:5e3,max:5e4}}),document.getElementById("slider-step-value"));t.noUiSlider.on("update",function(e,t){s.innerHTML=e[t]+" zł",a.value=e[t],i=e[t];let r=document.querySelector('input[name="installment_amount"]:checked').value;fetch("https://www.brutto.pl/api/v3/simulation/purchase?partner=e8694f3a-45fe-5fa6-bb74-ccc1e8f16d32&currency=PLN&amount="+i,{headers:{Accept:"*/*"},method:"GET"}).then(e=>e.json()).then(e=>{var e=e.purchase_simulation.results,e=Object.fromEntries(Object.entries(e).filter(([e])=>e.includes(""+r)))[""+r],t=Math.round(e.total_cost),n=Math.round(e.repayment_amount),a=Math.round(e.monthly_cost),e=e.annual_percentage_rate_of_charge;o.innerHTML=t+" zł",c.innerHTML=n+" zł",l.innerHTML=a+" zł",u.innerHTML=e+" %"})}),e.addEventListener("change",()=>{try{let r=document.querySelector('input[name="installment_amount"]:checked').value;fetch("https://www.brutto.pl/api/v3/simulation/purchase?partner=e8694f3a-45fe-5fa6-bb74-ccc1e8f16d32&currency=PLN&amount="+i,{headers:{Accept:"*/*"},method:"GET"}).then(e=>e.json()).then(e=>{var e=e.purchase_simulation.results,e=Object.fromEntries(Object.entries(e).filter(([e])=>e.includes(""+r)))[""+r],t=Math.round(e.total_cost),n=Math.round(e.repayment_amount),a=Math.round(e.monthly_cost),e=e.annual_percentage_rate_of_charge;o.innerHTML=t+" zł",c.innerHTML=n+" zł",l.innerHTML=a+" zł",u.innerHTML=e+" %"})}catch(e){}}),a.addEventListener("change",e=>{a.value<5e3||5e4<a.value?a.nextElementSibling.style.display="flex":a.nextElementSibling.style.display="none",t.noUiSlider.set(a.value),s.innerHTML=a.value+" zł";try{let r=document.querySelector('input[name="installment_amount"]:checked').value;fetch("https://www.brutto.pl/api/v3/simulation/purchase?partner=e8694f3a-45fe-5fa6-bb74-ccc1e8f16d32&currency=PLN&amount="+i,{headers:{Accept:"*/*"},method:"GET"}).then(e=>e.json()).then(e=>{var e=e.purchase_simulation.results,e=Object.fromEntries(Object.entries(e).filter(([e])=>e.includes(""+r)))[""+r],t=Math.round(e.total_cost),n=Math.round(e.repayment_amount),a=Math.round(e.monthly_cost),e=e.annual_percentage_rate_of_charge;o.innerHTML=t+" zł",c.innerHTML=n+" zł",l.innerHTML=a+" zł",u.innerHTML=e+" %"})}catch(e){}}),setInterval(function(){a.value<5e3||5e4<a.value?a.nextElementSibling.style.display="flex":a.nextElementSibling.style.display="none"},100)});