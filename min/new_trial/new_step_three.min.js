$(document).ready(function(){let t=$('[data-formid="create_trial_step3"]'),a=t.find('[data-form="submit-step-three"]'),l=t.find('input[name="address[client_type]"]'),o=t.find('input[name="pay_now"]'),n=$('[data-element="company"]'),d=$('[data-element="consument"]'),i=$("#trial-promo-box");function e(){var e="1"===l.filter(":checked").val();n.toggleClass("hide",!e).find("input").prop("disabled",!e).attr("data-exclude",e?null:"true"),d.toggleClass("hide",e).find("input").prop("disabled",e).attr("data-exclude",e?"true":null),t.find(".invalid").removeClass("invalid"),t.find(".error-box").remove()}function r(){var e="1"===o.filter(":checked").val(),t=(i.toggle(e),a.find("#label"));e?t.text("Zapłać teraz"):t.text("Rozpocznij darmowy okres próbny")}var s,c;s=localStorage.getItem("email"),c=localStorage.getItem("phoneNumber"),t.find('[data-form="email"]').val(s).prop("disabled",!0),t.find('[data-form="number_phone"]').val(c).prop("disabled",!0),SharedUtils.populateCountrySelect("#address1\\[country\\]"),l.filter('[value="1"]').prop("checked",!0).closest("label").addClass("is-checked"),e(),l.on("change",function(){l.closest("label").removeClass("is-checked"),$(this).closest("label").addClass("is-checked"),e()}),o.on("change",r),a.on("click",function(e){e.preventDefault(),0===validateForm(t[0])?sendFormDataToURL(t[0],a[0]):window.dataLayer.push({event:"myTrackEvent",eventCategory:"Button modal form error",eventAction:a.val(),eventLabel:window.location.href,eventType:t.attr("data-label")||"consult-form"})}),t.find("input, select, textarea").each(function(){var e=$(this);e.data("touched",!1),e.data("initial-placeholder",e.attr("placeholder"))}),$(document).on("trialStepComplete",function(e,t,a){var l;3===t&&(t=$('[data-element="modal_trial_three"]'),l=$('[data-element="modal_trial_success"]'),t.length&&t.hide(),l.length&&l.show(),console.log("Step 3 completed successfully"),a.license_id&&console.log("License ID:",a.license_id),a.host)&&console.log("Host:",a.host)})}),$(document).on("formSubmissionComplete",function(e,t,a,l,o){t?DataLayerGatherers.pushEmailSubmittedData(window.myGlobals.clientId,window.myGlobals.shopId,a.data("action"),"********"):DataLayerGatherers.pushTrackEventError(a.data("action"),a.find("#label").text(),"********")});