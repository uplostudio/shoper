$(document).ready(function(){let i={pl:{required:"To pole jest wymagane",required_checkbox:"To pole musi zostaÄ‡ zaznaczone",email:"Podaj poprawny adres e-mail",phone:"Minimum 9 cyfr",text:"Min. 3 znaki"},en:{required:"This field is required",required_checkbox:"This box must be checked",email:"Please enter a valid email address",phone:"Minimum 9 digits",text:"Minimum 3 characters"}};function o(e,t){e=`<div class="error-field"><img loading="lazy" alt="" class="error-field-image" src="https://global-uploads.webflow.com/61910111dc1f692d2eaf3138/64c3a210e743d0c2d6d9bfee_6374d2281cf709d489ffc789_ant-design_exclamation-circle-filled.svg"><div class="text-block-10">${e}</div></div>`;"checkbox"===$(t).attr("type")?$(t).next().is("div.error-field")||($(t).parent().after(e),$(t).prev().addClass("error-checkbox")):$(t).next().is("div.error-field")||$(t).after(e)}function t(e){"checkbox"!==$(e).attr("type")?$(e).next().is("div.error-field")&&$(e).next().remove():$(e).parent().next().is("div.error-field")&&($(e).parent().next().remove(),$(e).prev().removeClass("error-checkbox"))}function r(e){var t,r,a,n;switch($(e).attr("data-required")&&(t=e,"checkbox"!==!$(t).attr("type")&&0==$(t).val().length&&o(i[$("html").attr("lang")].required,t),"checkbox"!==$(t).attr("type")||$(t).prop("checked")||o(i[$("html").attr("lang")].required_checkbox,t)),$(e).attr("type")){case"email":a=e,n=$(a).val(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||o(i[$("html").attr("lang")].email,a);break;case"tel":n=e,a=$(n).val(),/^\d{9,15}$/.test(a)||o(i[$("html").attr("lang")].phone,n);break;case"text":r=e,$(r).val().length<=2&&o(i[$("html").attr("lang")].text,r)}}function n(e){e=$(e).find("input, textarea");$(e).each(function(){t(this)}),$(e).each(function(e,t){r(t)})}function c(e,t=!1,r=!1,a=!1,n=window.location.href,i=!1){var o={};"myTrackEvent"===e&&(o.event=e,t&&(o.eventCategory=t),r&&(o.eventAction=r),a&&(o.eventType=a),n&&(o.eventLabel=n),i)&&(o.eventValue=i),window.dataLayer&&o?dataLayer.push(o):console.log(o)}$("form").children('input[type="submit"]').on("click",async function(e){e.preventDefault();let t=$(e.target).parent("form");n(t);var r,a,e=$("div.error-field");0===$(e).length?(r=$(t),r=$(r).serializeArray(),a={},$.each(r,function(e,t){a[t.name]=t.value}),r=a,$.ajax({url:"https://www.shoper.pl/ajax.php",headers:{},method:"POST",data:r,success:function(e){e.message&&$(t).next().find("div").text(e.message),$(document).trigger("submitSuccess",t)}}),t.submit()):($(document).trigger("submitError",t),$(e).each(function(e,t){c("myTrackEvent","errorFormEvent",!1,!1,($(t).prev().attr("type")?$(t).prev():$(t).prev().find("input")).attr("type"),$(t).prev().val())}))}),$("input, textarea").on("focusout",function(){t(this),r(this)}),$("[data-event]").on("click",function(e){c("myTrackEvent","Button modal opened",$(this).text(),$(this).data("event"))}),$(document).on("submitSuccess",function(e,t){c("myTrackEvent","Button modal form sent",$(t).find('[type="submit"]').val(),$(t).attr("id"))}),$(document).on("submitError",function(e,t){c("myTrackEvent","Button modal form error",$(t).find('[type="submit"]').val(),$(t).attr("id"))})});