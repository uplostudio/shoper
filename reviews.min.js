document.addEventListener("DOMContentLoaded",function(){(resetElement=$("[fs-cmsfilter-element='reset']")).each(function(){$(this).hide(),this.style.display="none"}),$(document).ready(function(){var e;let t=$(".filters2_tags-wrapper");function i(e,t){var i,n;let l,s=(i=e,n=t,l=[],i.find("span[fs-cmsfilter-field]").each(function(){let e=$(this),t=$(`div[fs-cmsfilter-element='list'] div[data-set='${e.data("value")}']`).length;e.next(".counter_span").text(`[${t}]`);let i=e.closest('[role="listitem"]');if(i.length){let n=e.find('input[type="checkbox"]').prop("checked");l.push({element:i,count:t,isChecked:n})}}),l);(function e(t,i){if(i.length>0){let n=document.createDocumentFragment();i.sort((e,t)=>e.isChecked&&!t.isChecked?-1:!e.isChecked&&t.isChecked?1:t.count-e.count).forEach(e=>n.appendChild(e.element[0])),t.empty().append(n)}let l=t.children(":visible").length,s=t.attr("data-item").split("-")[1],a=$(`[data-item=expand-${s}]`);l-5<1||a.data("wasExpanded")?a.text("Pokaż mniej").show():l>5&&(t.addClass("collapsed"),a.text("Pokaż więcej").show())})(e,s)}function n(){$("[data-item^=expand]").off("click").on("click",function(e){e.preventDefault();let t=$(this),i=t.attr("data-item").split("-")[1],n=$(`[data-item=list-${i}]`),l=!t.data("wasExpanded");t.data("wasExpanded",l),n.toggleClass("collapsed",!l),t.text(l?"Pokaż mniej":"Pokaż więcej")})}let l,s=(e=function(e){var t;t=e,$('[data-item^="list"]').each(function(){i($(this),t)})},function(){let t=this,i=arguments;clearTimeout(l),l=setTimeout(()=>e.apply(t,i),200)});n(),$(".feed_box-bottom").each(function(){let e=$(this);1===e.find("a.w-condition-invisible").length&&e.find("a:not(.w-condition-invisible)").each(function(){$(this).removeClass(function(e,t){return t&&"button"!==t})})}),s(!0),$("span[fs-cmsfilter-field]").each(function(){let e=$(this),t=e.data("value"),i=$(`div[fs-cmsfilter-field][data-set='${t}']`);e.closest(".w-dyn-item").toggle(i.length>0)}),function e(t,i){let n=document.querySelector(t);if(!n)return;let l=new MutationObserver(e=>{e.forEach(e=>{"childList"===e.type&&i(e)})});l.observe(n,{childList:!0,subtree:!0})}('[fs-cmsfilter-element="list"]',function(e){let l=$(e.target).closest('[data-item^="list"]');l.length&&i(l,!1),t.children().length>0?(resetElement.css("display","inline"),$("[fs-cmsfilter-element='tag-template']").removeClass("hide")):resetElement.css("display","none"),n()}),new MutationObserver(function e(i){i.forEach(e=>{if("attributes"===e.type&&"style"===e.attributeName){let i=t.css("display");$("body").css("overflow","flex"===i?"hidden":"auto")}})}).observe(t[0],{attributes:!0,childList:!1,subtree:!1}),function e(){let t=$(".solutions_list .w-dyn-item");t.next(".bullet").remove(),t.each(function(e,i){e<t.length-1&&$(i).after('<div class="bullet">•</div>')})}()})});